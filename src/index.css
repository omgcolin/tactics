@import "tailwindcss";

.pixelated {
    image-rendering: pixelated;
    image-rendering: crisp-edges;
}

@keyframes lunge {
    0% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.2) translateY(-10px);
    }

    100% {
        transform: scale(1);
    }
}

@keyframes knockback {
    0% {
        transform: translateX(0);
        filter: brightness(1);
    }

    20% {
        transform: translateX(5px) rotate(5deg);
        filter: brightness(2) sepia(1) hue-rotate(-50deg);
    }

    100% {
        transform: translateX(0);
        filter: brightness(1);
    }
}

.animate-lunge {
    animation: lunge 0.3s ease-out;
}

.animate-knockback {
    animation: knockback 0.4s ease-in-out;
}

@keyframes slash {
    0% {
        transform: scale(1) rotate(0deg);
        filter: brightness(1);
    }

    25% {
        transform: scale(1.1) rotate(-5deg);
        filter: brightness(1.5) saturate(2);
    }

    50% {
        transform: scale(1.2) rotate(5deg);
        filter: brightness(2) saturate(3) hue-rotate(-30deg);
        text-shadow: 0 0 10px rgba(255, 255, 0, 0.8);
    }

    75% {
        transform: scale(1.1) rotate(-2deg);
        filter: brightness(1.5) saturate(2);
    }

    100% {
        transform: scale(1) rotate(0deg);
        filter: brightness(1);
    }
}

.animate-slash {
    animation: slash 0.5s ease-out;
    border: 2px solid #FFD700 !important;
    box-shadow: 0 0 15px rgba(255, 215, 0, 0.8) !important;
}

.animate-bash {
    animation: bash 1s ease-out;
    border: 2px solid #C0C0C0 !important;
    box-shadow: 0 0 10px rgba(192, 192, 192, 0.6) !important;
}

@keyframes bash {
    0% {
        transform: scale(1) rotate(0deg);
        filter: brightness(1);
    }

    40% {
        transform: scale(1.1) rotate(15deg);
        filter: brightness(1.3) saturate(1.5);
    }

    50% {
        transform: scale(1.2) rotate(20deg);
        filter: brightness(1.5) saturate(2);
        text-shadow: 0 0 8px rgba(255, 200, 0, 0.6);
    }

    70% {
        transform: scale(1.1) rotate(10deg);
        filter: brightness(1.2) saturate(1.5);
    }

    100% {
        transform: scale(1) rotate(0deg);
        filter: brightness(1);
    }
}


/* New Sword Slash Animation - starts at hero and extends to enemy */
.sword-slash-new {
    position: absolute;
    width: 32px;
    height: 8px;
    background: linear-gradient(90deg,
            #C0C0C0 0%, #C0C0C0 20%,
            #FFFFFF 20%, #FFFFFF 40%,
            #C0C0C0 40%, #C0C0C0 60%,
            #FFFFFF 60%, #FFFFFF 80%,
            #C0C0C0 80%, #C0C0C0 100%);
    border: 1px solid #808080;
    border-radius: 1px;
    pointer-events: none;
    z-index: 100;
    transform-origin: center left;

    /* CSS Custom Properties for Directional Control */
    --attack-angle: 0deg;
    --attack-distance: 100px;
    --attack-direction-x: 1;
    --attack-direction-y: 0;
    --attack-rotation: 0deg;

    animation: swordSlashNew 1.5s ease-out;
}

.sword-slash-new::before {
    content: '';
    position: absolute;
    top: -2px;
    left: 4px;
    width: 8px;
    height: 12px;
    background: #C0C0C0;
    border: 1px solid #808080;
    border-radius: 2px;
}

@keyframes swordSlashNew {
    0% {
        opacity: 0;
        transform: translateX(0) translateY(0) rotate(var(--attack-angle)) scaleX(0);
    }

    1.5% {
        opacity: 0.3;
        transform: translateX(0) translateY(0) rotate(var(--attack-angle)) scaleX(0.1);
    }

    3% {
        opacity: 0.8;
        transform: translateX(calc(5px * var(--attack-direction-x))) translateY(calc(5px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 15deg)) scaleX(0.2);
    }

    6% {
        opacity: 1;
        transform: translateX(calc(15px * var(--attack-direction-x))) translateY(calc(15px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 30deg)) scaleX(0.4);
    }

    10.5% {
        opacity: 1;
        transform: translateX(calc(30px * var(--attack-direction-x))) translateY(calc(25px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 45deg)) scaleX(0.7);
    }

    15% {
        opacity: 1;
        transform: translateX(calc(50px * var(--attack-direction-x))) translateY(calc(30px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 60deg)) scaleX(1);
    }

    19.5% {
        opacity: 1;
        transform: translateX(calc(70px * var(--attack-direction-x))) translateY(calc(25px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 45deg)) scaleX(0.9);
    }

    24% {
        opacity: 1;
        transform: translateX(calc(85px * var(--attack-direction-x))) translateY(calc(15px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 30deg)) scaleX(0.8);
    }

    27% {
        opacity: 0.8;
        transform: translateX(calc(95px * var(--attack-direction-x))) translateY(calc(5px * var(--attack-direction-y))) rotate(calc(var(--attack-angle) - 15deg)) scaleX(0.6);
    }

    30% {
        opacity: 0;
        transform: translateX(calc(100px * var(--attack-direction-x))) translateY(0) rotate(var(--attack-angle)) scaleX(0.3);
    }
}

/* Shield Bash Animation - Impact effect with energy burst */
.shield-bash-new {
    position: absolute;
    width: 40px;
    height: 40px;
    background: radial-gradient(circle,
            rgba(100, 150, 255, 0.9) 0%,
            rgba(50, 100, 255, 0.7) 20%,
            rgba(30, 70, 255, 0.5) 40%,
            rgba(20, 50, 255, 0.3) 60%,
            transparent 100%);
    border-radius: 50%;
    pointer-events: none;
    z-index: 100;
    transform-origin: center bottom;

    /* CSS Custom Properties for Directional Control */
    --bash-angle: 0deg;
    --bash-direction-x: 1;
    --bash-direction-y: 0;
    --bash-distance: 35px;

    animation: shieldBashNew 0.5s ease-out;
}

.shield-bash-new::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 60px;
    height: 60px;
    background: radial-gradient(circle,
            rgba(255, 200, 100, 0.8) 0%,
            rgba(255, 150, 50, 0.6) 30%,
            rgba(255, 100, 0, 0.4) 50%,
            transparent 100%);
    border-radius: 50%;
    opacity: 0;
    animation: shieldImpact 0.5s ease-out;
}

.shield-bash-new::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 80px;
    height: 80px;
    background: radial-gradient(circle,
            rgba(255, 255, 255, 0.6) 0%,
            rgba(200, 200, 255, 0.4) 20%,
            rgba(150, 150, 255, 0.2) 40%,
            transparent 100%);
    border-radius: 50%;
    opacity: 0;
    animation: shieldImpact 0.5s ease-out 0.05s;
}

@keyframes shieldBashNew {
    0% {
        opacity: 0;
        transform: translateX(0) translateY(16px) scale(0);
    }

    40% {
        opacity: 1;
        transform: translateX(calc(15px * var(--bash-direction-x))) translateY(16px) scale(0.8);
    }

    80% {
        opacity: 1;
        transform: translateX(calc(30px * var(--bash-direction-x))) translateY(16px) scale(1);
    }

    100% {
        opacity: 1;
        transform: translateX(calc(var(--bash-distance) * var(--bash-direction-x))) translateY(16px) scale(1.2);
    }
}

@keyframes shieldImpact {
    0% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0);
    }

    90% {
        opacity: 0;
        transform: translate(-50%, -50%) scale(0);
    }

    100% {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }
}

/* Audio popup fade-in animation */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: scale(0.95);
    }

    to {
        opacity: 1;
        transform: scale(1);
    }
}

.animate-fadeIn {
    animation: fadeIn 0.3s ease-out;
}

/* Custom volume slider styling */
.slider {
    -webkit-appearance: none;
    appearance: none;
    background: transparent;
    cursor: pointer;
}

.slider::-webkit-slider-track {
    background: #374151;
    height: 4px;
    border-radius: 2px;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    background: #10b981;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    margin-top: -6px;
    transition: all 0.2s ease;
}

.slider::-webkit-slider-thumb:hover {
    background: #059669;
    transform: scale(1.1);
}

.slider::-moz-range-track {
    background: #374151;
    height: 4px;
    border-radius: 2px;
    border: none;
}

.slider::-moz-range-thumb {
    background: #10b981;
    height: 16px;
    width: 16px;
    border-radius: 50%;
    border: none;
    transition: all 0.2s ease;
}

.slider::-moz-range-thumb:hover {
    background: #059669;
    transform: scale(1.1);
}